<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <title>Amharic Legal Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="sidebar">
        <button onclick="startNewChat()">+ ·ä†·ã≤·àµ ·ãç·ã≠·ã≠·âµ</button>
        <button onclick="clearAllChats()" style="margin-bottom:15px; background:#e53e3e;">üóë ·àÅ·àâ·äï ·ä†·å•·çã</button>
        <h2>·ã®·â≥·à™·ä≠ ·ãç·ã≠·ã≠·â∂·âΩ</h2>
        <ul>
        {% if chat_previews %}
            {% for preview in chat_previews %}
            <li onclick="loadChat('{{ loop.index0 }}')">
                {{ preview }}...
            </li>
            {% endfor %}
        {% else %}
            <li style="opacity:0.6">No saved chats yet</li>
        {% endif %}
        </ul>
    </div>


    <div class="main">
        <div id="chat-area" class="chat-area">
            {% for msg in chat_history %}
                {% if msg.role == 'user' %}
                    <div class="user-msg">{{ msg.text }}</div>
                {% else %}
                    <div class="bot-msg">{{ msg.text }}</div>
                {% endif %}
            {% endfor %}
        </div>
        <form id="chat-form" class="input-bar">
            <textarea id="chat-input" placeholder="·àò·àç·ä•·ä≠·âµ·ãé·äï ·ä•·ãö·àÖ ·ã´·àµ·åà·â°..." rows="1"></textarea>
            <button type="submit">·àã·ä≠</button>
        </form>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
